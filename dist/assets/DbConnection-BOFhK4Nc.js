import{e as C,r,a as v,j as e,I as y,B as d,c as T,f as S,u as D,C as k,g as B,h as P,i as z,k as A,D as N,l as g,m as j,n as p,E}from"./index-CJvvkf2A.js";import{T as M,a as $,b as u,c,d as H,e as l}from"./table-Bea0y_Jq.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],b=C("ellipsis",I),L=({setAddConnection:x})=>{const[i,m]=r.useState(""),[n,h]=r.useState("Postgresql"),[t,s]=r.useState("Mongo String"),[o,_]=r.useState(""),f=v(a=>a.user).id,w=async()=>{const a={schemaName:i,dbType:n,paramType:t,id:f};await T.post("https://click.wa.expert/api/secure/createSchema",a),dispatch(S(i)),x(!1)};return e.jsx("div",{className:"wrapper z-50 ",children:e.jsxs("div",{className:"form-container ",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h2",{children:"Add Database Connection"}),e.jsx("button",{className:"close-btn",onClick:()=>x(!1),children:"Ã—"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title"}),e.jsx(y,{type:"text",placeholder:"Enter Connection Title",value:i,onChange:a=>m(a.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Database Type"}),e.jsx("select",{value:n,onChange:a=>h(a.target.value),disabled:!0,children:e.jsx("option",{children:"Postgresql"})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Connection Parameters Type"}),e.jsx("select",{value:t,onChange:a=>s(a.target.value),disabled:!0,children:e.jsx("option",{children:"Postgres String"})})]}),e.jsx(d,{className:"mt-4",onClick:w,children:"Save Connection"})]})})},F=()=>{const[x,i]=r.useState(!1),m=v(s=>s.user),n=m.id,h=D(),t=[{name:`${m.schema_name}`,createdDate:"22 Aug, 2023",createdTime:"05:59 PM",updatedDate:"20 Sep, 2024",updatedTime:"08:19 PM",status:"active"}];return e.jsxs(k,{className:"tableCard shadow-sm border-slate-200 mx-4 sm:mx-[6rem]",children:[e.jsx(B,{className:"pb-4",children:e.jsx("div",{className:"flex justify-between items-center gap-3",children:e.jsxs("div",{children:[e.jsx(P,{className:"text-2xl font-semibold text-slate-700",children:"DB Connections"}),e.jsx(z,{className:"mt-1",children:"Manage your database connections and schemas"})]})})}),e.jsxs(A,{children:[x?e.jsx(L,{setAddConnection:i}):null,t.length===0&&e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),e.jsx("p",{children:"No database connections found"}),e.jsx("p",{className:"text-sm mt-2",children:'Click "Add Connection" to create your first database connection'})]}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 sm:hidden",children:t.map((s,o)=>e.jsxs("div",{className:"rounded-2xl bg-white  p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-[#4285B4]/10 flex items-center justify-center",children:e.jsx(N,{className:"h-5 w-5 text-[#4285B4]"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:"DB Connection"}),e.jsx("p",{className:"font-semibold text-slate-700 text-sm break-all",children:s.name})]})]}),e.jsx(g,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:"Active"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 mb-1",children:"Created at"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[e.jsx(j,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{children:s.createdDate})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500 ml-6",children:[e.jsx(p,{className:"h-3 w-3"}),s.createdTime]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-500 mb-1",children:"Last updated"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[e.jsx(j,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{children:s.updatedDate})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500 ml-6",children:[e.jsx(p,{className:"h-3 w-3"}),s.updatedTime]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between gap-3",children:[e.jsx(d,{size:"sm",className:"flex-1 bg-[#4285B4] hover:bg-[#3778b4]",onClick:()=>h(`/db/${n}`),children:"View details"}),e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"More options",children:e.jsx(b,{className:"h-4 w-4"})})]})]},o))}),e.jsxs(M,{className:"hidden sm:table w-full mt-2",children:[e.jsx($,{children:e.jsxs(u,{children:[e.jsx(c,{className:"w-[100px]",children:"Type"}),e.jsx(c,{children:"DB Connection Name"}),e.jsx(c,{children:"Created at"}),e.jsx(c,{children:"Last Updated at"}),e.jsx(c,{className:"w-[150px]",children:"Status"}),e.jsx(c,{className:"text-right w-[120px]",children:"Actions"})]})}),e.jsx(H,{children:t.map((s,o)=>e.jsxs(u,{children:[e.jsx(l,{children:e.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded bg-[#4285B4]/10",children:e.jsx(N,{className:"h-5 w-5 text-[#4285B4]"})})}),e.jsx(l,{className:"font-medium",children:s.name}),e.jsxs(l,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{children:s.createdDate})]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-2 ml-6",children:[e.jsx(p,{className:"h-3 w-3"}),s.createdTime]})]}),e.jsxs(l,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-slate-400"}),e.jsx("span",{children:s.updatedDate})]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-2 ml-6",children:[e.jsx(p,{className:"h-3 w-3"}),s.updatedTime]})]}),e.jsx(l,{children:e.jsx(g,{className:"bg-green-50 text-green-700 border-green-200",children:"Active"})}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(`/db/${n}`),title:"View Connection",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"More Options",children:e.jsx(b,{className:"h-4 w-4"})})]})})]},o))})]})]})]})]})};export{F as default};
