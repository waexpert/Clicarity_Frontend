import{u as b,a as R,R as S,j as t,B as a,b as j}from"./index-DhckfCQI.js";import{R as N}from"./FixedUpdateForm-DyrQAImK.js";import"./alert-BQkvN4u6.js";const v=({data:e,loading:o,visibleColumns:c,setupData:n,tableName:u,selectedColumns:d})=>{b();const i=R(s=>s.user),m=(i==null?void 0:i.schema_name)||"default_schema",h=S.useMemo(()=>!e||!c||c.length===0?e:Object.keys(e).filter(s=>c.includes(s)).reduce((s,r)=>(s[r]=e[r],s),{}),[e,c]),p=async()=>{const s="https://click.wa.expert/api/data/updateMultiple",r=(n==null?void 0:n.process_steps)||[],l=r.indexOf(e==null?void 0:e.status),x=new URLSearchParams({schemaName:m,tableName:u,recordId:e==null?void 0:e.id,ownerId:"bde74e9b-ee21-4687-8040-9878b88593fb",col1:"status",val1:l-1<r.length-2?r[l+1]:e==null?void 0:e.status});try{const f=await j.get(`${s}?${x.toString()}`);window.location.reload()}catch{}};return t.jsxs("div",{className:"",children:[t.jsx(N,{data:h,loading:o,selectedColumns:d}),t.jsxs("div",{className:"action-buttons",children:[t.jsx(a,{className:"button",onClick:()=>{p()},disabled:o||!e,"aria-label":"Search for lead status",children:"Move to Next Stage Fixed"}),t.jsx(a,{className:"button",onClick:()=>{},"aria-label":"Search for lead status",disabled:o||!e,children:"Add Comment"})]})]})};export{v as default};
