import{j as e,Z as f,r as p,C as o,f as h,i as j,g,k as b}from"./index-DppSODb2.js";import{A as x,a as m}from"./alert-CqS-O9aX.js";function d({className:s,...i}){return e.jsx("div",{"data-slot":"skeleton",className:f("bg-accent animate-pulse rounded-md",s),...i})}const S=({data:s,loading:i,visibleColumns:l,selectedColumns:c})=>{const[n,y]=p.useState(null),u=r=>r.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),N=(r,a)=>{if(r==null||r==="")return e.jsx("span",{className:"empty-value",children:"Not set"});if(a==="status")return e.jsx(b,{className:`status-badge status-${r.toLowerCase()}`,children:r});if(a.includes("date")&&r&&r!=="")try{return new Date(r).toLocaleString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch{return r}return typeof r=="number"?r.toLocaleString():r};if(i)return e.jsx("div",{className:"record-details-container",children:e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(d,{className:"loading-title"})}),e.jsx(j,{children:e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{className:"record-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Column Name"}),e.jsx("th",{children:"Value"})]})}),e.jsx("tbody",{children:[...Array(8)].map((r,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(d,{className:"loading-field"})}),e.jsx("td",{children:e.jsx(d,{className:"loading-value"})})]},a))})]})})})]})});if(n)return e.jsx("div",{className:"record-details-container",children:e.jsx(x,{variant:"destructive",children:e.jsxs(m,{children:["Error loading data: ",n]})})});if(!s)return e.jsx("div",{className:"record-details-container",children:e.jsx(x,{children:e.jsx(m,{children:"No data found for the specified record."})})});let t=Object.keys(s||{});return Array.isArray(l)&&l.length>0&&(t=t.filter(r=>l.includes(r))),Array.isArray(c)&&c.length>0&&(t=t.filter(r=>c.includes(r))),e.jsx("div",{className:"record-details-container",children:e.jsxs(o,{className:"record-details-card",children:[e.jsxs(h,{className:"record-details-header",children:[e.jsx(g,{className:"record-details-title",children:"Details"}),e.jsxs("p",{className:"record-details-subtitle",children:["ID: ",s.us_id||s.id]})]}),e.jsx(j,{className:"record-details-content",children:e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{className:"record-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Column Name"}),e.jsx("th",{children:"Value"})]})}),e.jsx("tbody",{children:t.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"column-name",children:u(r)}),e.jsx("td",{className:"column-value",children:N(s[r],r)})]},r))})]})})})]})})};export{S as R};
